{"version":3,"sources":["../../../apiserver_dev/controllers/detail/user.js"],"names":["UserController","saveUser","ctx","next","request","body","name","phone","address","currTime","Date","getTime","params","data","created","modified","userService","getErrorNotice"],"mappings":"2UAAA,gC;AACA,6C;AACA,0C;;AAEA,IAAIA,iBAAiB,SAAjBA,cAAiB,GAAW;AAC5B,QAAG,EAAE,gBAAgBA,cAAlB,CAAH,EAAsC;AAClC,eAAO,IAAIA,cAAJ,EAAP;AACH;;AAED,SAAKC,QAAL,GAAgB,YAAW;AACvB,kGAAO,iBAAOC,GAAP,EAAYC,IAAZ;AAC0BD,oCAAIE,OAAJ,CAAYC,IADtC,EACEC,IADF,qBACEA,IADF,EACQC,KADR,qBACQA,KADR,EACeC,OADf,qBACeA,OADf;;AAGGC,wCAHH,GAGc,IAAIC,IAAJ,GAAWC,OAAX,EAHd;AAICC,sCAJD,GAIU;AACTC,0CAAM;AACFP,8CAAMA,IADJ;AAEFC,+CAAOA,KAFL;AAGFC,iDAASA,OAHP;AAIFM,iDAASL,QAJP;AAKFM,kDAAUN,QALR,EADG,EAJV;;;;AAcGO,2CAdH,GAciB,oBAdjB;AAeGA,gDAAYf,QAAZ,CAAqBW,MAArB,CAfH;AAgBHV,oCAAIG,IAAJ,GAAW,iBAAOY,cAAP,CAAsB,SAAtB,CAAX,CAhBG,+DAAP;;AAkBH,KAnBD;AAoBH,CAzBD,C;;AA2BejB,c","file":"user.js","sourcesContent":["import _ from 'lodash'\r\nimport retMsg from '../../common/retMsg'\r\nimport {User} from '../../services'\r\n\r\nlet UserController = function() {\r\n    if(!(this instanceof UserController)) {\r\n        return new UserController()\r\n    }\r\n\r\n    this.saveUser = function() {\r\n        return async (ctx, next) => {\r\n            let {name, phone, address} = ctx.request.body\r\n\r\n            const currTime = new Date().getTime()\r\n            let params = {\r\n                data: {\r\n                    name: name,\r\n                    phone: phone,\r\n                    address: address,\r\n                    created: currTime,\r\n                    modified: currTime\r\n                }\r\n            }\r\n\r\n            const userService = new User()\r\n            await userService.saveUser(params)\r\n            ctx.body = retMsg.getErrorNotice('SUCCESS')\r\n        }\r\n    }\r\n}\r\n\r\nexport default UserController"]}