{"version":3,"sources":["../../../apiserver_dev/models/detail/source.js"],"names":["NumberLong","Schema","Types","Long","source","name","type","String","default","Number","required","column","url","description","status","created","modified","safe","versionKey","get","index"],"mappings":"2EAAA,gC;AACA,oC;AACA,6C;AACA;AACA,IAAMA,aAAa,mBAASC,MAAT,CAAgBC,KAAhB,CAAsBC,IAAzC;AACA,IAAIC,SAAS,IAAI,mBAASH,MAAb,CAAoB;AAC7BI,UAAM;AACFC,cAAMC,MADJ;AAEFC,iBAAS,EAFP,EADuB;AAI1B;AACHF,UAAM;AACFA,cAAMG,MADJ;AAEFC,kBAAU,IAFR,EALuB;AAQ1B;AACHC,YAAQ;AACJL,cAAMG,MADF;AAEJC,kBAAU,IAFN,EATqB;AAY1B;AACHE,SAAK;AACDN,cAAMC,MADL;AAEDG,kBAAU,IAFT,EAbwB;AAgB1B;AACHG,iBAAa;AACTP,cAAMC,MADG;AAETC,iBAAS,EAFA,EAjBgB;AAoB1B;AACHM,YAAQ;AACJR,cAAMG,MADF;AAEJD,iBAAS,CAFL,EArBqB;AAwB1B;AACHO,aAAS;AACLT,cAAMN,UADD;AAELU,kBAAU,IAFL,EAzBoB;AA4B1B;AACHM,cAAU;AACNV,cAAMN,UADA;AAENU,kBAAU,IAFJ;AAGR;AAhC2B,CAApB,EAiCV;AACCO,UAAM,IADP;AAECC,gBAAY,KAFb,EAjCU,CAAb;;;AAsCA,IAAG,iBAAOC,GAAP,CAAW,eAAX,CAAH,EAAgC;AAC5Bf,WAAOgB,KAAP,CAAa,EAACd,MAAK,CAAN,EAAb;AACAF,WAAOgB,KAAP,CAAa,EAACN,QAAO,CAAC,CAAT,EAAb;AACAV,WAAOgB,KAAP,CAAa,EAACL,SAAQ,CAAC,CAAV,EAAb;AACAX,WAAOgB,KAAP,CAAa,EAACJ,UAAS,CAAC,CAAX,EAAb;AACH,C;;AAEcZ,M","file":"source.js","sourcesContent":["import config from 'config'\r\nimport mongoose from 'mongoose'\r\nimport mongooseLong from 'mongoose-long'\r\nmongooseLong(mongoose)\r\nconst NumberLong = mongoose.Schema.Types.Long\r\nlet source = new mongoose.Schema({\r\n    name: {\r\n        type: String,\r\n        default: \"\"\r\n    }, // 资源名字\r\n    type: {\r\n        type: Number,\r\n        required: true\r\n    }, // 资源类型: 1图片， 2视频\r\n    column: {\r\n        type: Number,\r\n        required: true\r\n    }, // 栏目： 1视频， 2展示图片区， 3体育运动区， 4奶粉区\r\n    url: {\r\n        type: String,\r\n        required: true\r\n    }, // 资源链接\r\n    description: {\r\n        type: String,\r\n        default: \"\"\r\n    }, // 资源描述\r\n    status: {\r\n        type: Number,\r\n        default: 1\r\n    }, // 是否废弃： 1在用， 0废弃\r\n    created: {\r\n        type: NumberLong,\r\n        required: true\r\n    }, // 创建时间\r\n    modified: {\r\n        type: NumberLong,\r\n        required: true\r\n    } // 修改时间\r\n}, {\r\n    safe: true,\r\n    versionKey: false\r\n})\r\n\r\nif(config.get(\"mongodb.index\")) {\r\n    source.index({type:1})\r\n    source.index({status:-1})\r\n    source.index({created:-1})\r\n    source.index({modified:-1})\r\n}\r\n\r\nexport default source"]}