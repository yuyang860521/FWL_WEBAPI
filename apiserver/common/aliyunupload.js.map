{"version":3,"sources":["../../apiserver_dev/common/aliyunupload.js"],"names":["ossStream","OSS","accessKeyId","get","secretAccessKey","endpoint","apiVersion","AliUpload","key","upload","Bucket","Key","minPartSize"],"mappings":"6UAAA,uC;AACA,gC;AACA,iE;;AAEA,IAAIA,YAAY,qCAAK,IAAI,oBAAIC,GAAR,CAAY;AAC9BC,eAAa,iBAAOC,GAAP,CAAW,oBAAX,CADiB;AAE9BC,mBAAiB,iBAAOD,GAAP,CAAW,wBAAX,CAFa;AAG9BE,YAAU,iBAAOF,GAAP,CAAW,iBAAX,CAHoB;AAI9BG,cAAY,iBAAOH,GAAP,CAAW,mBAAX,CAJkB,EAAZ,CAAL,CAAhB,C;;;AAOqBI,S;AACjB,qBAAYC,GAAZ,EAAiB;AACnB,SAAKC,MAAL,GAAcT,UAAUS,MAAV,CAAiB;AAC5BC,cAAQ,iBAAOP,GAAP,CAAW,oBAAX,CADoB;AAE5BQ,WAAKH,GAFuB,EAAjB,CAAd;;AAIA,SAAKC,MAAL,CAAYG,WAAZ,CAAwB,iBAAOT,GAAP,CAAW,oBAAX,CAAxB;AACG,G;;AAEW;AACX,aAAO,KAAKM,MAAZ;AACA,K,4CAXgBF,S","file":"aliyunupload.js","sourcesContent":["import ALY from 'aliyun-sdk'\r\nimport config from 'config'\r\nimport aous from 'aliyun-oss-upload-stream'\r\n\r\nlet ossStream = aous(new ALY.OSS({\r\n  \taccessKeyId: config.get('aliyun.accessKeyId'),\r\n  \tsecretAccessKey: config.get('aliyun.secretAccessKey'),\r\n  \tendpoint: config.get('aliyun.endpoint'),\r\n  \tapiVersion: config.get('aliyun.apiVersion'),\r\n}))\r\n\r\nexport default class AliUpload {\r\n    constructor(key) {\r\n\t\tthis.upload = ossStream.upload({\r\n\t\t  \tBucket: config.get('aliyun.bucket.name'),\r\n\t\t  \tKey: key\r\n\t\t})\r\n\t\tthis.upload.minPartSize(config.get('aliyun.minPartSize'))\r\n    }\r\n\r\n    getupload() {\r\n    \treturn this.upload\r\n    }\r\n}"]}